1) Что такое RAID для каких целей он используется?:

 - RAID - дисковый массив из нескольких дисков. Используется для повышения надежности и/или повышения скорости работы дисковых устройств.
 
2) Объясните различия между Raid0, Raid1 и Raid5? Плюсы минусу, принцип:

 - RAID0 - массив дисков с чередованием данных. Обладает высокой скоростью записи и чтения, однако имеет самую низкую надежность хранения, поскольку выход любого диска приводит к потере всего массива.
 - RAID1 - зеркалированный массив, в котором запись идет на все диски сразу. Обладает наибольшей степенью надежности и высокой скоростью чтения, однако наименее эффективно использует дисковое пространство.
 - RAID5 - массив дисков с поблочным чередованием. Позволяет проводить параллельную запись, обладает повышенной скоростью чтения, высокой эффективностью использования дискового пространства и допускает выход из строя одного из дисков. Однако в случае потери одного диска повышается нагрузка на остальные из-за процесса восстановления RAID.

3) Что такое Raid 10:

 - RAID10 - массив дисков с зеркалированием и чередованием (массив RAID0 из нескольких RAID1).

4) аппаратный, софтфовый и fake raid что это?:

 - Аппаратный - отдельный контроллер с собственным процессором и кэшом, использующимися для выполнения дисковых операций.
 - Fake raid - микрочип на материнской плате, частично выполняющий функционал аппаратного рейд-контроллера
 - Софтовый - RAID, созданный средствами операционной системы и программного обеспечения

5) Что такое LVM? Для чего применяется?:

 - LVM - подсистема ОС Linux, позволяющая использовать разные области одного диска и/или области с разных дисков в качестве одного логического тома.

6) Опишите структуру LVM:

 - Физический том - устройство, представимое в ОС как один диск
 - Группа физических томов
 - Логический том, доступный программам
 
 
 Практика:
 ---
1. Добавить в виртуальном сервере два hdd
```
Добавлены два диска:
```
![HDD](HDD.jpg?raw=true)

2. Собрать на них raid1 массив
```
Размечаем диски, выбираем тип Linux RAID командной для каждого диска соответсвенно:
cfdisk /dev/sdb
cfdisk /dev/sdc
```

![sdb](sdb.png?raw=true)
![sdc](sdc.png?raw=true)

```
Создаем RAID 1 массив командой:
mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sdb1 /dev/sdc1 --metadata=0.90
```
![raid](mdadm.png?raw=true)

3. Поверх raid массива развернуть lvm и 4. Создать файловую систему в lvm разделах и примонтировать в систему
```
Инициализируем диск командой pvcreate /dev/md0 – в начале диска создается дескриптор группы томов.
С помощью команды vgcreate test /dev/md0 создаем группу томов test из инициализированного на предыдущем этапе диска.
Группу томов разделяем на логические тома командой lvcreate -n main -L4G test (создаем тома с именем main на 4ГБ из группы test).
Форматируем раздел командой mkfs.ext4 -L main /dev/test/main.
Монтируем раздел.
```
![lvm](lvm.png?raw=true)

5. Продемонстрировать умение замены жесткого диска
```
"Фейлим" диск:
mdadm --manage /dev/md0 --fail /dev/sdb1

Удаляем его из массива:
mdadm --manage /dev/md0 --remove /dev/sdb1
```
![faildisk](delsdb1.png?raw=true)
```
Копируем таблицу разделов:
sfdisk -d /dev/sdc | sfdisk /dev/sdb
Добавляем диск в массив:
mdadm --manage /dev/md0 --add /dev/sdb1
Проверяем rebuild status:
mdadm --detail /dev/md0
```
![rebuildstat](copytable.png?raw=true)
![rebuildstat](rebuildstatus.png?raw=true)

6. Расширить размер раздела за счет неиспользуемого пространтсва в raid массиве
```
Используем команду mdadm --grow /dev/md0 --size=max
ИЛИ
Расширяем physical volume до максимума pvresize /dev/md0

Меняем размер logical volume, используя максимум доступного места:
lvextend -l +100%FREE /dev/mapper/test-main

Меняем размер файловой системы с учётом появившегося места:
resize2fs /dev/mapper/test-main
```
 
